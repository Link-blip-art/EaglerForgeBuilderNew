<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>EaglerForge Mob Blocks</title>
  <script src="javascript/blockly_compressed.js"></script>
  <script src="javascript/blocks_compressed.js"></script>
  <script src="javascript/javascript_compressed.js"></script>
  <script src="blocks/mobs.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }
    #blocklyDiv {
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>
  <xml id="toolbox" style="display: none">
    <category name="Mob" colour="#5C68A6">
      <block type="create_mob"></block>
    </category>
    <category name="Logic" colour="%{BKY_LOGIC_HUE}"></category>
    <category name="Loops" colour="%{BKY_LOOPS_HUE}"></category>
    <category name="Math" colour="%{BKY_MATH_HUE}"></category>
    <category name="Text" colour="%{BKY_TEXTS_HUE}"></category>
  </xml>

  <div id="blocklyDiv"></div>

  <script>
    var workspace = Blockly.inject('blocklyDiv', {
      toolbox: document.getElementById('toolbox')
    });

    function showCode() {
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      var code = Blockly.JavaScript.workspaceToCode(workspace);
      console.log(code);
    }

    workspace.addChangeListener(showCode);
  </script>
</body>
</html>

